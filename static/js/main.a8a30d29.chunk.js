(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/death-star.2e4838bd.svg"},27:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},38:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),s=a.n(c),l=a(9),o=a(10),i=a(12),u=a(11),m=a(13),h=(a(32),a(47)),p=a(49),d=a(48),f=(a(34),a(8)),g=a.n(f),b=a(14),E=a(4),v=a(3),y={getGamePerson:function(){var e=Object(b.a)(g.a.mark(function e(){var t,a,n,r,c,s,l,o,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(87*Math.random())+1,e.next=3,fetch("https://swapi.co/api/people/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,r="",!n.species.length){e.next=16;break}return e.next=11,fetch(n.species[0]);case 11:return c=e.sent,e.next=14,c.json();case 14:s=e.sent,r=s.name;case 16:return e.next=18,fetch(n.homeworld);case 18:return l=e.sent,e.next=21,l.json();case 21:return o=e.sent,i={eye_colour:n.eye_colour,hair_color:n.hair_color,name:n.name,species:r,homeworld:o.name},e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},j=(a(38),a(24)),O=a.n(j),k=function(e){var t=e.display;return r.a.createElement("div",null,t?r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:O.a,className:"star",alt:"Spinning Death Star"})):"")},w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={person:{},guessCorrect:-1,guess:"",loading:!1},a.checkGuess=a.checkGuess.bind(Object(E.a)(Object(E.a)(a))),a.getAlert=a.getAlert.bind(Object(E.a)(Object(E.a)(a))),a.getNextPerson=a.getNextPerson.bind(Object(E.a)(Object(E.a)(a))),a.resetGame=a.resetGame.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getNextPerson();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getNextPerson",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,y.getGamePerson();case 3:t=e.sent,this.setState({person:t,loading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkGuess",value:function(e){var t=e.target.value.toLowerCase()===this.state.person.name.toLowerCase();this.setState({guessCorrect:t?1:0,guess:e.target.value}),t&&fetch("http://localhost:5000/api/scores/".concat(this.state.person.name),{method:"PUT"})}},{key:"getAlert",value:function(){var e=1===this.state.guessCorrect?"success":"warning",t=1===this.state.guessCorrect?"You've got it right!":"That's not quite right...";return n.createElement(v.a,{color:e},t)}},{key:"resetGame",value:function(){this.getNextPerson(),this.setState({guessCorrect:-1,guess:""})}},{key:"render",value:function(){var e=this.state,t=e.person,a=e.loading;return n.createElement(v.i,{fluid:!0},n.createElement(k,{display:a}),n.createElement(v.t,null,n.createElement(v.g,{sm:"12",md:{size:8,offset:2}},n.createElement("h2",null,"Let's play a guessing game"))),n.createElement(v.t,null,n.createElement(v.g,{sm:"12",md:{size:8,offset:2},className:"mb-5"},n.createElement(v.c,{inverse:!0,className:"bg-dark"},n.createElement(v.d,null,n.createElement(v.f,null,"Guess Who"),n.createElement(v.e,null,t.species?"I am a ".concat(t.species,". "):"",t.homeworld?"My homeworld is ".concat(t.homeworld,". "):"",t.eye_colour?"My eyes are ".concat(t.eye_colour,". "):"",t.hair_color?"My hair is ".concat(t.hair_color,". "):"")))),n.createElement(v.g,{sm:"12",md:{size:8,offset:2},className:"mb-5"},n.createElement(v.c,{inverse:!0,className:"bg-dark"},n.createElement(v.d,null,n.createElement(v.f,null,"You Must Be"),n.createElement(v.e,null,n.createElement(v.j,null,n.createElement(v.k,null,n.createElement(v.l,{type:"text",name:"personName",id:"personName",placeholder:"Character name",value:this.state.guess,disabled:1===this.state.guessCorrect,onChange:this.checkGuess})),this.state.guessCorrect>-1?this.getAlert():"")))))),n.createElement(v.t,null,n.createElement(v.g,{sm:"12",md:{size:8,offset:2}},n.createElement(v.b,{color:"warning",onClick:this.resetGame},"Reset"))))}}]),t}(n.Component),x=function(e){var t=e.score;return r.a.createElement("tr",null,r.a.createElement("td",null,t.numGuesses),r.a.createElement("td",null,t.name))},N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={scores:[],loading:!1},a.eachScore=a.eachScore.bind(Object(E.a)(Object(E.a)(a))),a.getScores=a.getScores.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getScores();case 3:t=e.sent,this.setState({scores:t,loading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getScores",value:function(){var e=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://localhost:5000/api/scores/").then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return[]}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"eachScore",value:function(e,t){return r.a.createElement(x,{score:e,key:t})}},{key:"render",value:function(){var e=this.state,t=e.scores,a=e.loading;return r.a.createElement(v.i,{className:"pb-5"},r.a.createElement(k,{display:a}),r.a.createElement(v.u,{dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number of Guesses"),r.a.createElement("th",null,"Character Name"))),r.a.createElement("tbody",null,t.map(this.eachScore))))}}]),t}(n.Component),S=(a(42),a(46)),C=function(){return n.createElement(v.i,{fluid:!0},n.createElement(v.m,null,n.createElement("h1",{className:"display-3"},"About"),n.createElement("p",{className:"lead"},"This is a sample app that uses the Star Wars API (SWAPI), with React to play a simple guessing game!"),n.createElement("hr",{className:"my-2"}),n.createElement("p",null,"To play the game, click Play below"),n.createElement("p",{className:"lead"},n.createElement(v.b,{color:"primary",tag:S.a,to:"/play"},"Play"))))},G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(E.a)(Object(E.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e=this.state.isOpen;return r.a.createElement("div",null,r.a.createElement(v.q,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},r.a.createElement(v.r,{tag:S.a,to:"/"},"SWAPI App"),r.a.createElement(v.s,{onClick:this.toggle}),r.a.createElement(v.h,{isOpen:e,navbar:!0},r.a.createElement(v.n,{className:"ml-auto",navbar:!0},r.a.createElement(v.o,null,r.a.createElement(v.p,{tag:S.a,to:"/play"},"Play")),r.a.createElement(v.o,null,r.a.createElement(v.p,{tag:S.a,to:"/scores"},"Scores")),r.a.createElement(v.o,null,r.a.createElement(v.p,{href:"https://github.com/lauchlanc/swapi-app"},"GitHub"))))))}}]),t}(n.Component),P=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:C}),r.a.createElement(d.a,{exact:!0,path:"/play",component:w}),r.a.createElement(d.a,{exact:!0,path:"/scores",component:N}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=document.getElementById("root");A&&s.a.render(r.a.createElement(P,null),A),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.a8a30d29.chunk.js.map